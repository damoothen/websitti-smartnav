!function(a){a.fn.smartnav=function(b){var c={duration:1e3};return b=a.extend({},c,b),this.each(function(c){var d=a(this),e=a("a",d),f=a(window),g=[],h=null,i=null;e.each(function(b,c){g.push(a(c).attr("href"))}),f.scroll(function(b){var c=f.scrollTop(),j=null;for(var k in g)j=a(g[k]),c>j.offset().top-f.height()/2&&(i=g[k]);h!==i&&(h=i,e.removeClass("selected"),a("a[href="+h+"]",d).addClass("selected"))}),e.click(function(c){c.preventDefault();var d=0,e=a(this).attr("href");return e&&"#"===e.charAt(0)?("#"!==e&&(d=a(e).offset().top),a("html,body").animate({scrollTop:d},b.duration),void(history.pushState?history.pushState(null,null,e):location.hash=e)):!1})})}}(jQuery);